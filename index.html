<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FNAF Web Clone 2026</title>
    <style>
        body { margin: 0; background: black; color: white; font-family: 'Courier New', Courier, monospace; overflow: hidden; }
        #game-container { position: relative; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; }
        #view { width: 800px; height: 600px; border: 5px solid #333; position: relative; background: #111; }
        
        /* UI Elements */
        #ui { position: absolute; top: 10px; left: 10px; z-index: 10; pointer-events: none; }
        .btn { pointer-events: all; cursor: pointer; background: #444; color: white; border: 2px solid white; padding: 10px; }
        .btn:hover { background: #666; }
        
        #camera-feed { display: none; position: absolute; inset: 0; background: rgba(0,0,0,0.8); z-index: 5; text-align: center; }
        #static { position: absolute; inset: 0; background: url('media.giphy.com'); opacity: 0.1; pointer-events: none; }
        #animatronic { width: 100px; height: 150px; background: red; position: absolute; bottom: 50px; left: 350px; display: none; }
        
        #jumpscare { display: none; position: fixed; inset: 0; background: red; z-index: 100; align-items: center; justify-content: center; font-size: 50px; color: black; font-weight: bold; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="view">
        <div id="ui">
            <div>TIME: <span id="clock">12</span> AM</div>
            <div>POWER: <span id="power">100</span>%</div>
            <br>
            <button class="btn" onclick="toggleDoor()">TOGGLE DOOR</button>
            <button class="btn" onclick="toggleCameras()">CAMERAS</button>
        </div>

        <!-- Office View -->
        <div id="office-content" style="padding-top: 200px; text-align: center;">
            <h2 id="door-status">DOOR IS OPEN</h2>
            <p>(Watch the cameras! If the red block is at CAM 3, close the door!)</p>
        </div>

        <!-- Camera System -->
        <div id="camera-feed">
            <h1 id="cam-name">CAM 1: STAGE</h1>
            <div id="camera-buttons">
                <button class="btn" onclick="changeCam(1)">CAM 1</button>
                <button class="btn" onclick="changeCam(2)">CAM 2</button>
                <button class="btn" onclick="changeCam(3)">CAM 3</button>
            </div>
            <div id="animatronic"></div>
            <div id="static"></div>
        </div>
    </div>
</div>

<div id="jumpscare">IT'S ME. GAME OVER.</div>

<script>
    // Game State
    let power = 100;
    let time = 0; // 0 = 12AM, 6 = 6AM
    let doorClosed = false;
    let camsOpen = false;
    let currentCam = 1;
    let enemyPos = 1; // 1: Stage, 2: Hallway, 3: Outside Door, 4: Office (Jumpscare)

    // Elements
    const powerEl = document.getElementById('power');
    const clockEl = document.getElementById('clock');
    const doorStatus = document.getElementById('door-status');
    const camFeed = document.getElementById('camera-feed');
    const camName = document.getElementById('cam-name');
    const enemyEl = document.getElementById('animatronic');
    const jumpScareEl = document.getElementById('jumpscare');

    // Power Drain Logic
    setInterval(() => {
        let drain = 0.1;
        if (doorClosed) drain += 0.3;
        if (camsOpen) drain += 0.2;
        power -= drain;
        powerEl.innerText = Math.floor(power);
        if (power <= 0) gameOver("Power Outage...");
    }, 1000);

    // Time Progression (1 min = 1 hour)
    setInterval(() => {
        time++;
        clockEl.innerText = time === 0 ? 12 : time;
        if (time >= 6) alert("6 AM! YOU WIN!");
    }, 60000);

    // AI Logic: Movement opportunities every 5 seconds
    setInterval(() => {
        if (Math.random() > 0.5) { // 50% chance to move
            enemyPos++;
            console.log("Enemy moved to: " + enemyPos);
            
            if (enemyPos === 4) { // Final move
                if (doorClosed) {
                    enemyPos = 1; // Reset to stage if door blocked
                    console.log("Door blocked him! Resetting.");
                } else {
                    gameOver();
                }
            }
        }
        updateVisuals();
    }, 5000);

    function toggleDoor() {
        doorClosed = !doorClosed;
        doorStatus.innerText = doorClosed ? "DOOR IS CLOSED" : "DOOR IS OPEN";
    }

    function toggleCameras() {
        camsOpen = !camsOpen;
        camFeed.style.display = camsOpen ? 'block' : 'none';
        updateVisuals();
    }

    function changeCam(id) {
        currentCam = id;
        const names = {1: "STAGE", 2: "HALLWAY", 3: "OUTSIDE DOOR"};
        camName.innerText = `CAM ${id}: ${names[id]}`;
        updateVisuals();
    }

    function updateVisuals() {
        // Show enemy only if they are in the room currently being viewed
        if (camsOpen && enemyPos === currentCam) {
            enemyEl.style.display = 'block';
        } else {
            enemyEl.style.display = 'none';
        }
    }

    function gameOver(msg = "JUMPSCARE!") {
        jumpScareEl.style.display = 'flex';
        jumpScareEl.innerText = msg;
    }
</script>
</body>
</html>
